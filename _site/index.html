<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chroma Testing</title>
  <link rel="stylesheet" href="/css/index.css">
</head>
<body class="markdown">
<h1>Exploring CIE lab/LCH Colors</h1>
<h2>Demos:</h2>
<ul>
<li><a href="/chroma/">by <code>chroma</code> »</a></li>
<li><a href="/hue/">by <code>hue</code> »</a></li>
</ul>
<p>Note that <code>hsl</code> and <code>lch</code> map hues differently,
so they aren't going to line up exactly here.</p>
<h2>Other Resources:</h2>
<ul>
<li><a href="https://www.w3.org/TR/css-color-4/">Color Module Level 4</a></li>
<li><a href="https://www.w3.org/Talks/2016/css4-color-talk/">The Evolution of CSS4 Color</a></li>
<li><a href="https://stripe.com/blog/accessible-color-systems">Stripe Blog</a></li>
<li><a href="http://tristen.ca/hcl-picker/">HCL Picker</a></li>
<li><a href="https://github.com/gka/chroma.js">chroma.js</a></li>
</ul>
<h2>Notes:</h2>
<p>The CIE Lab/LCH color space --
coming to CSS in
<a href="https://www.w3.org/TR/css-color-4/">Color Module Level 4</a> --
is <em>device-independent</em> and <em>perceptually uniform</em>.</p>
<p>While we wait for browser implementations,
Sass could provide basic Lab/LCH tools inside a module,
to avoid naming conflicts with the eventual CSS functions.
The Sass functions would
pre-compile into an <code>rgb()</code> format  for output,
making them usable right away.</p>
<p>That's great in theory,
but the CIE &amp; sRGB color spaces don't align cleanly.
Color conversion will need to follow the
<a href="https://www.w3.org/TR/css-color-4/#valdef-color-profile-rendering-intent-relative-colorimetric"><em>relative-colorimetric</em></a>
rendering intent:
resolving out-of-gamut colors
to the nearest available sRGB color,
without altering in-gamut values.</p>
<p>I make an attempt at that in my demos --
locking both <code>hue</code> and <code>lightness</code> values,
while lowering the <code>chroma</code> value until
the color is in-gamut.
That seems to be the accepted solution,
rather thanclipping RGB channels
like <a href="https://github.com/gka/chroma.js">chroma.js</a>,
which can end up altering the hue
in unpredicatble ways.</p>
<p>You can toggle between the two options
in the demo &quot;settings&quot; menu,
or hide out-of-gamut-colors entirely.
You can also change the overall <code>chroma</code> or <code>hue</code>) value --
depending on the demo.
Just give it time to update.
This isn't optimized for performance,
and the adjustments take more time
at higher saturation levels.</p>


<!-- Scripts -->

</body>
</html>
